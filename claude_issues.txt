‚è∫ Based on my analysis of your Amiga demo project, here are the key architectural issues I've identified:

  Critical Issues:

  5. Poor Module Boundaries

  - Text scroller logic mixed with screen management

  7. Inefficient Algorithms

  - showlogo.c:244-265 - rotation performed on every frame instead of pre-calculating
  - textscroller.c:267-308 - palette fade done per-frame with no temporal coherence

  9. State Machine Complexity

  The FSM in main.c is reasonable, but substates (textscroller.c:31-135) have no clear transition diagram and mix presentation logic with state transitions.

  Recommendations:

  1. Encapsulate modules - pass state structures instead of globals
  2. Consistent cleanup - use resource acquisition patterns or goto-cleanup everywhere
  3. Pre-calculate rotation frames once during init, not per-frame
  4. Fix fixed-point math - verify precision requirements and document shift amounts
  5. Extract constants - replace all magic numbers with named defines
  6. Separate concerns - split screen management from effect logic

  The most problematic areas for stability are memory management (potential leaks/crashes) and the inefficient rotation recalculation on line 221-225 of rotation.c.